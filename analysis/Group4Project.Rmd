---
title: "Class Project"
date:  "2022-11-29"
author: "Nate Smullen, Alex Lindquist, Wynter Malone"
output: html_notebook
---

```{r}
library(dplyr)
library(tidyverse)
library(here)
library(janitor)
library(gbfs)
library(taskscheduleR) #might be useful for running code every minute
```


```{r}
#code that runs every minute for an hour
#problem with this code is that it doesn't account for the time it takes to do
#The calculation
i = 0
while(i < 60) {
  print(paste("its been", i, "minutes since this started, give or take a bit"))
  i = i + 1
  
  Sys.sleep(60)
}
```

```{r}
script="U:/DS241-Class-Project/analysis/getstationstatus.R"

taskscheduler_create(taskname = "stationstatustask", 
                     rscript = script, 
                     schedule = "MINUTE", 
                     starttime = "09:25")

```


```{r}
taskscheduler_stop(taskname)

schtasks /Create /TN "getstationstatus.R" /TR "cmd /c C:/PROGRA~1/R/R-42~1.0/bin/Rscript.exe \"U:/DS241-Class-Project/analysis/getstationstatus.R\"  >> \"U:/DS241-Class-Project/analysis/getstationstatus.log\" 2>&1" /SC MINUTE /ST 09:39 /SD "07/12/2022"
```

